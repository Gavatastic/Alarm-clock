//  BSS138 mosfets
// Breshanen line drawing


#include <asf.h>
#include <I2C.h>
#include <SSD1306.h>
#include <framebuffer.h>


const uint8_t Atomic []  = {
	0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x3C, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x1C, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x60, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x07, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x01, 0xC0, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x80, 0x03, 0x80, 0x00, 0x00,
	0x00, 0x00, 0x03, 0x80, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x01, 0xC0, 0x00, 0x00,
	0x00, 0x00, 0x03, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0xC0, 0x00, 0x00,
	0x00, 0x3F, 0xC6, 0x00, 0x00, 0x67, 0xFC, 0x00, 0x01, 0xFF, 0xFE, 0x00, 0x00, 0xFF, 0xFF, 0x80,
	0x07, 0xC0, 0x3F, 0xC0, 0x03, 0xFC, 0x03, 0xC0, 0x07, 0x00, 0x0F, 0xF8, 0x1F, 0xF0, 0x00, 0xE0,
	0x0C, 0x00, 0x0C, 0x3E, 0xFC, 0x30, 0x00, 0x70, 0x0C, 0x00, 0x0C, 0x0F, 0xE0, 0x30, 0x00, 0x30,
	0x18, 0x00, 0x1C, 0x0F, 0xF0, 0x30, 0x00, 0x38, 0x18, 0x00, 0x18, 0x3E, 0x78, 0x30, 0x00, 0x38,
	0x18, 0x00, 0x18, 0x78, 0x1E, 0x18, 0x00, 0x38, 0x1C, 0x00, 0x19, 0xE0, 0x07, 0x98, 0x00, 0x30,
	0x0C, 0x00, 0x1F, 0x80, 0x01, 0xF8, 0x00, 0x30, 0x0C, 0x00, 0x1F, 0x00, 0x00, 0xF8, 0x00, 0x70,
	0x06, 0x00, 0x3C, 0x00, 0x00, 0x38, 0x00, 0x60, 0x06, 0x00, 0x78, 0x00, 0x00, 0x1E, 0x00, 0xE0,
	0x03, 0x00, 0xF0, 0x00, 0x00, 0x1F, 0x00, 0xC0, 0x03, 0x81, 0xF0, 0x00, 0x00, 0x1F, 0x81, 0xC0,
	0x01, 0xC7, 0xB0, 0x03, 0x80, 0x19, 0xC3, 0x80, 0x00, 0xCE, 0x30, 0x07, 0xE0, 0x1C, 0xF7, 0x00,
	0x00, 0xFC, 0x30, 0x0F, 0xE0, 0x1C, 0x3E, 0x00, 0x00, 0x78, 0x30, 0x0F, 0xF0, 0x1C, 0x1C, 0x00,
	0x00, 0x78, 0x30, 0x0F, 0xF0, 0x1C, 0x1C, 0x00, 0x00, 0xFC, 0x30, 0x0F, 0xE0, 0x1C, 0x3E, 0x00,
	0x00, 0xCE, 0x30, 0x07, 0xE0, 0x1C, 0xF7, 0x00, 0x01, 0xC7, 0xB0, 0x03, 0xC0, 0x19, 0xC3, 0x80,
	0x03, 0x81, 0xF0, 0x00, 0x00, 0x1F, 0x81, 0xC0, 0x03, 0x00, 0xF0, 0x00, 0x00, 0x1F, 0x00, 0xC0,
	0x06, 0x00, 0x78, 0x00, 0x00, 0x1E, 0x00, 0xE0, 0x06, 0x00, 0x3C, 0x00, 0x00, 0x38, 0x00, 0x60,
	0x0C, 0x00, 0x1F, 0x00, 0x00, 0xF8, 0x00, 0x30, 0x0C, 0x00, 0x1F, 0x80, 0x01, 0xF8, 0x00, 0x30,
	0x1C, 0x00, 0x19, 0xE0, 0x07, 0x98, 0x00, 0x30, 0x18, 0x00, 0x18, 0xF8, 0x1E, 0x18, 0x00, 0x38,
	0x18, 0x00, 0x18, 0x3E, 0x7C, 0x30, 0x00, 0x18, 0x18, 0x00, 0x1C, 0x0F, 0xF0, 0x30, 0x00, 0x38,
	0x1C, 0x00, 0x0C, 0x07, 0xE0, 0x30, 0x00, 0x30, 0x0C, 0x00, 0x0C, 0x3F, 0xFC, 0x30, 0x00, 0x30,
	0x0E, 0x00, 0x0F, 0xF8, 0x1F, 0xF0, 0x00, 0x60, 0x07, 0xC0, 0x3F, 0xC0, 0x07, 0xF8, 0x03, 0xE0,
	0x01, 0xFF, 0xFE, 0x00, 0x00, 0xFF, 0xFF, 0x80, 0x00, 0x7F, 0xE6, 0x00, 0x00, 0x67, 0xFE, 0x00,
	0x00, 0x00, 0x06, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0xC0, 0x00, 0x00,
	0x00, 0x00, 0x03, 0x00, 0x01, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x03, 0x80, 0x01, 0x80, 0x00, 0x00,
	0x00, 0x00, 0x01, 0x80, 0x03, 0x80, 0x00, 0x00, 0x00, 0x00, 0x01, 0xC0, 0x03, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0xE0, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x0E, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x30, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x38, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0xC0, 0x00, 0x00, 0x00
};

uint8_t fb[SSD1306_BUFFERSIZE];

int main (void)
{
	system_init();
	delay_init();
  
    configure_i2c_master();
	SSD1306_init();
  
	buffer_clear(fb);
	buffer_drawBitmap(fb, Atomic,64,64,32,0);
	SSD1306_send_buffer(fb);
	
	delay_s(1);
  
	buffer_clear(fb);
	buffer_drawButtonOutlines(fb);
	SSD1306_send_buffer(fb);

	

     
	while(1==1)
	{

		for (uint16_t buttons=0; buttons<16384; buttons++)
		{
			buffer_drawButtons(fb,buttons);
			SSD1306_send_buffer(fb);
			
		}		
	}
	

	
	
}

